<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.papermaking.mapper.KnowledgePointMapper">
    <resultMap id="BaseResultMap" type="com.papermaking.pojo.KnowledgePoint">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="k_id" property="kId" jdbcType="INTEGER"/>
        <result column="k_name" property="kName" jdbcType="VARCHAR"/>
        <result column="c_id" property="cId" jdbcType="INTEGER"/>
        <result column="k_number" property="kNumber" jdbcType="VARCHAR"/>
        <result column="k_createtime" property="kCreatetime" jdbcType="DATE"/>
    </resultMap>


    <resultMap id="KnowledgePointMap" extends="BaseResultMap" type="com.papermaking.pojo.KnowledgePoint">
        <association property="course" fetchType="lazy" column="c_id"
                     select="com.papermaking.mapper.CourseMapper.selectByPrimaryKey"/>

        <collection property="questions" fetchType="lazy" column="k_id"
                    select="com.papermaking.mapper.QuestionMapper.selectByKid"/>
    </resultMap>


    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from knowledge_point
        where k_id = #{kId,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.papermaking.pojo.KnowledgePoint">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into knowledge_point (k_id, k_name, c_id,
        k_number, k_createtime)
        values (#{kId,jdbcType=INTEGER}, #{kName,jdbcType=VARCHAR}, #{cId,jdbcType=INTEGER},
        #{kNumber,jdbcType=VARCHAR}, #{kCreatetime,jdbcType=DATE})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.papermaking.pojo.KnowledgePoint">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update knowledge_point
        set k_name = #{kName,jdbcType=VARCHAR},
        c_id = #{cId,jdbcType=INTEGER},
        k_number = #{kNumber,jdbcType=VARCHAR},
        k_createtime = #{kCreatetime,jdbcType=DATE}
        where k_id = #{kId,jdbcType=INTEGER}
    </update>
    <select id="selectByPrimaryKey" resultMap="KnowledgePointMap" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select k_id, k_name, c_id, k_number, k_createtime
        from knowledge_point
        where k_id = #{kId,jdbcType=INTEGER}
    </select>
    <select id="selectAll" resultMap="KnowledgePointMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select k_id, k_name, c_id, k_number, k_createtime
        from knowledge_point
    </select>

    <select id="selectAllByCid" resultMap="KnowledgePointMap">
        select k_id, k_name, c_id, k_number, k_createtime
        from knowledge_point
        where c_id=#{cId}
    </select>

    <delete id="deleteByCid" parameterType="Integer">
        delete from knowledge_point where c_id=#{cId}
    </delete>

</mapper>